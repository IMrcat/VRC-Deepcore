using System;
using System.Collections;
using System.Collections.Generic;
using System.Linq;
using MelonLoader;
using UnityEngine;
using VRC.SDKBase;

namespace DeepCore.Client.Module.Exploits
{
	// Token: 0x02000060 RID: 96
	internal class MirrorsSpammer
	{
		// Token: 0x060001FA RID: 506 RVA: 0x0000D8A3 File Offset: 0x0000BAA3
		public static void State(bool s)
		{
			if (s)
			{
				MirrorsSpammer.SpamM = true;
				MelonCoroutines.Start(MirrorsSpammer.SpamMirrors());
				return;
			}
			MirrorsSpammer.SpamM = false;
		}

		// Token: 0x060001FB RID: 507 RVA: 0x0000D8C0 File Offset: 0x0000BAC0
		public static IEnumerator SpamMirrors()
		{
			while (MirrorsSpammer.SpamM)
			{
				foreach (VRC_Trigger vrc_Trigger in MirrorsSpammer.AllTriggers)
				{
					if (vrc_Trigger.name.ToLower().Contains("mirror") || vrc_Trigger.transform.parent.name.ToLower().Contains("mirror"))
					{
						Networking.LocalPlayer.TakeOwnership(vrc_Trigger.gameObject);
						vrc_Trigger.Interact();
					}
				}
				yield return new WaitForSeconds(0.1f);
			}
			yield break;
		}

		// Token: 0x04000113 RID: 275
		public static bool SpamM = false;

		// Token: 0x04000114 RID: 276
		public static List<VRC_Trigger> AllTriggers = OnLoadedScaneManager.allTriggers.ToList<VRC_Trigger>();
	}
}
